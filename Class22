Class 22 07/07/2025

Reducing the file system:
=========================
1) Reducing the size of an LV is a bit complicated task, there are few things which you need to keep in mind before reducing the size of an LV. Need to validate the file system eligibulity. The file system is not going to reach >80% after the reduce.
The file systems should be configured with EXT flavours.
2) LV size cannot be reduced online, it requires a down time i.e. unmounting the file system. ====> better to take fs backup
3) Organized the data before reducing the size of LV. 
4) Update the file system about the size. I.e. what its size will be after reduction. 
5) Finally reduce the size of the LV
6) Mount the LV and run df command

If any of the above things are missed then it will be a mess, you may corrupt the file system and LV. 
Let’s start the steps carefully 
1) Check the size of the lv
	# using df –h command
2) Unmount the LV using umount command 
	# umount </mountpoint>
3) Organize the data in LV by using e2fsck  command 
	# e2fsck -f  </dev/vg/lv name> 
4) Update the file system by using resize2fs  command 
	# resize2fs </dev/vg/lv name>  1400M (where 300M is the approximate total size of file system after reduction) 
5) Now reduce the size
	# lvreduce  -L  -500M </dev/vg/lvname>
6) Mount the LV and run the command df-h, to verify the change in the size of LV 
	# mount </mountpoint> ( if an entry is passed in /etc/fstab use this command) 
	# df –h </mountpoint>
7) Run resize2fs to extend the leanier space
	# resize2fs </dev/vg/lv name>

Lab Tasks:
===========
1) Configure /tomcat file system with 1Gb Volume ====> fill the space
2) add 3gb volume to server and attach to VG
3) Extend file system with another 2GB with method 2
4) Expand file system with 1Gb with method1
5) Reduce file system 1Gb 

Session Output:
================
login as: root
root@192.168.29.120's password:
Last failed login: Mon Jul  7 19:53:34 IST 2025 from 2405:201:c037:d269:c268:ccf                                                                                             f:fe6b:db71 on ssh:notty
There was 1 failed login attempt since the last successful login.
Last login: Mon Jul  7 19:46:20 2025
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# echo "- - -" > /sys/class/scsi_host/host0/scan
[root@c111xyz ~]# echo "- - -" > /sys/class/scsi_host/host1/scan
[root@c111xyz ~]# echo "- - -" > /sys/class/scsi_host/host2/scan
[root@c111xyz ~]#
[root@c111xyz ~]# parted -l |more
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sda: 21.5GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  1075MB  1074MB  primary  xfs          boot
 2      1075MB  21.5GB  20.4GB  primary               lvm


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdb: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End     Size    File system  Name     Flags
 1      1049kB  1073MB  1072MB               logical


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdc: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End     Size    File system  Name     Flags
 1      1049kB  1073MB  1072MB               logical


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdd: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size   Type      File system  Flags
 1      1049kB  500MB   499MB  primary   ext4
 2      501MB   1000MB  499MB  primary   ext4
 3      1001MB  1200MB  198MB  primary   ext4
 4      1201MB  2146MB  946MB  extended               lba
 5      1201MB  1400MB  199MB  logical   ext4
 6      1401MB  1600MB  199MB  logical   ext4
 7      1601MB  1800MB  199MB  logical   ext4
 8      1801MB  2146MB  345MB  logical   ext4

--More--Error: /dev/sdi: unrecognised disk label
Warning: Unable to open /dev/sr0 read-write (Read-only file system).  /dev/sr0
has been opened read-only.

Model: VMware, VMware Virtual S (scsi)
Disk /dev/sde: 5369MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  5368MB  5367MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdf: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size   Type     File system  Flags
 1      1049kB  300MB   299MB  primary  ext4
 2      301MB   600MB   299MB  primary  ext4
 3      601MB   1073MB  472MB  primary  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/webvg-weblv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv3: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv2: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv1: 1132MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1132MB  1132MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv4: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/oraclevg-oradata1lv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/oraclevg-oradata2lv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/sharevg-sharelv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rhel-swap: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system     Flags
 1      0.00B  2147MB  2147MB  linux-swap(v1)


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rhel-root: 18.2GB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  18.2GB  18.2GB  xfs


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdg: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  2146MB  2145MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdh: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  2146MB  2145MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdi: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags:

Model: NECVMWar VMware SATA CD01 (scsi)
Disk /dev/sr0: 4374MB
Sector size (logical/physical): 2048B/2048B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 2      1442MB  1479MB  36.8MB  primary


[root@c111xyz ~]# parted /dev/sdi
GNU Parted 3.1
Using /dev/sdi
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) print
Error: /dev/sdi: unrecognised disk label
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdi: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags:
(parted) mklabel msdos
(parted) print
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdi: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start  End  Size  Type  File system  Flags

(parted) mkpart
Partition type?  primary/extended? primary
File system type?  [ext2]?
Start? 1
End? -1
(parted) print
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdi: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  1073MB  1072MB  primary

(parted) quit
Information: You may need to update /etc/fstab.

[root@c111xyz ~]#
[root@c111xyz ~]# pvs
  PV         VG       Fmt  Attr PSize    PFree
  /dev/sda2  rhel     lvm2 a--   <19.00g     0
  /dev/sdb1  sharevg  lvm2 a--  1020.00m 20.00m
  /dev/sdc1  webvg    lvm2 a--  1020.00m 20.00m
  /dev/sde1  oraclevg lvm2 a--    <5.00g  3.04g
  /dev/sdg1  rjvg     lvm2 a--    <2.00g     0
  /dev/sdh1  rjvg     lvm2 a--    <2.00g  8.00m
[root@c111xyz ~]# pvcreate /dev/sdi1
  Physical volume "/dev/sdi1" successfully created.
[root@c111xyz ~]# pvs
  PV         VG       Fmt  Attr PSize    PFree
  /dev/sda2  rhel     lvm2 a--   <19.00g       0
  /dev/sdb1  sharevg  lvm2 a--  1020.00m   20.00m
  /dev/sdc1  webvg    lvm2 a--  1020.00m   20.00m
  /dev/sde1  oraclevg lvm2 a--    <5.00g    3.04g
  /dev/sdg1  rjvg     lvm2 a--    <2.00g       0
  /dev/sdh1  rjvg     lvm2 a--    <2.00g    8.00m
  /dev/sdi1           lvm2 ---  1022.00m 1022.00m
[root@c111xyz ~]# vgcreate ashokvg /dev/sdi1
  Volume group "ashokvg" successfully created
[root@c111xyz ~]# vgs
  VG       #PV #LV #SN Attr   VSize    VFree
  ashokvg    1   0   0 wz--n- 1020.00m 1020.00m
  oraclevg   1   2   0 wz--n-   <5.00g    3.04g
  rhel       1   2   0 wz--n-  <19.00g       0
  rjvg       2   4   0 wz--n-    3.99g    8.00m
  sharevg    1   1   0 wz--n- 1020.00m   20.00m
  webvg      1   1   0 wz--n- 1020.00m   20.00m
[root@c111xyz ~]#
[root@c111xyz ~]# lvcreate -L 1000M ashokvg -n ashoklv
  Logical volume "ashoklv" created.
[root@c111xyz ~]# lvs
  LV         VG       Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  ashoklv    ashokvg  -wi-a----- 1000.00m
  oradata1lv oraclevg -wi-a----- 1000.00m
  oradata2lv oraclevg -wi-a----- 1000.00m
  root       rhel     -wi-ao----  <17.00g
  swap       rhel     -wi-ao----    2.00g
  rjlv1      rjvg     -wi-ao----    1.05g
  rjlv2      rjvg     -wi-ao---- 1000.00m
  rjlv3      rjvg     -wi-ao---- 1000.00m
  rjlv4      rjvg     -wi-ao---- 1000.00m
  sharelv    sharevg  -wi-a----- 1000.00m
  weblv      webvg    -wi-a----- 1000.00m
[root@c111xyz ~]#
[root@c111xyz ~]# mkfs -t ext4 /dev/ashokvg/ashoklv
mke2fs 1.42.9 (28-Dec-2013)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
64000 inodes, 256000 blocks
12800 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=262144000
8 block groups
32768 blocks per group, 32768 fragments per group
8000 inodes per group
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376

Allocating group tables: done
Writing inode tables: done
Creating journal (4096 blocks): done
Writing superblocks and filesystem accounting information: done

[root@c111xyz ~]# blkid
/dev/mapper/rhel-root: UUID="77aedbab-6a66-41b8-9bd7-d6358c002e0e" TYPE="xfs"
/dev/sda2: UUID="hF7unB-ZgVE-Nz2b-4xKa-mcQS-gepv-YU7nXw" TYPE="LVM2_member"
/dev/sda1: UUID="366b7a0b-c2ee-4474-816b-9418785b2cb2" TYPE="xfs"
/dev/mapper/rhel-swap: UUID="d476faa5-d7bc-4886-830f-b7428a8e3c37" TYPE="swap"
/dev/sdb1: UUID="VycV4w-Hkmy-Q27T-E5gO-6RY2-3rCq-tmmN6f" TYPE="LVM2_member" PARTLABEL="logical" PARTUUID="c6b8deca-1dd4-4334-a628-bfe08ddc648a"
/dev/sdc1: UUID="pHACjs-ryGN-Fss5-YJx0-v7a0-Qvj6-DHd4Rm" TYPE="LVM2_member" PARTLABEL="logical" PARTUUID="15e73b19-76b6-4341-ba2f-7ad6bf570248"
/dev/sdd1: UUID="8320b8f1-d75c-4e46-a8fe-512123803bb8" TYPE="ext4"
/dev/sdd2: UUID="bd74593b-e808-40df-924d-5bde198b814d" TYPE="ext4"
/dev/sdd3: UUID="d9a5fde3-d7d1-4ac2-b63d-0d73e5a8d9ce" TYPE="ext4"
/dev/sdd5: UUID="46909667-0c28-4ee9-862f-94037667f913" TYPE="ext4"
/dev/sdd6: UUID="1e494546-60e5-461f-ac0a-fc671de0794a" TYPE="ext4"
/dev/sdd7: UUID="9784f766-5f29-49f6-b5e5-0bb9602ed808" TYPE="ext4"
/dev/sdd8: UUID="c4bd4886-962b-4144-9cca-515fe78fe9d3" TYPE="ext4"
/dev/sde1: UUID="1x2jFQ-JFeE-FmNB-sfbK-qOue-ZbxH-zcecow" TYPE="LVM2_member"
/dev/sdf1: UUID="dd184d0f-b2b6-45de-b37e-e2e55a638ee8" TYPE="ext4"
/dev/sdf2: UUID="ec5443ee-583e-4439-a825-cc424da4b0fc" TYPE="ext4"
/dev/sdf3: UUID="f7bcdbea-e007-4120-befc-b2db882d4b82" TYPE="ext4"
/dev/sdg1: UUID="puEegG-sUBJ-Z0nJ-X2hq-kNzj-sIH7-fVHCja" TYPE="LVM2_member"
/dev/sdh1: UUID="nZy9qC-pgKk-b7VJ-bYVV-ODzy-2vrg-2SHGWG" TYPE="LVM2_member"
/dev/sr0: UUID="2018-01-19-09-23-44-00" LABEL="RHEL-7.4 Server.x86_64" TYPE="iso9660" PTTYPE="dos"
/dev/mapper/sharevg-sharelv: UUID="28919281-edd7-4f1a-98b8-efa95caa70ec" TYPE="ext4"
/dev/mapper/oraclevg-oradata1lv: UUID="6050cfd5-109f-429f-8f3b-13fb0775e97d" TYPE="ext4"
/dev/mapper/oraclevg-oradata2lv: UUID="64e96a59-4d97-403d-8c6d-8787d412e9aa" TYPE="ext4"
/dev/mapper/rjvg-rjlv1: UUID="f5fec70f-3aa0-4663-9760-f0463adf24e2" TYPE="ext4"
/dev/mapper/rjvg-rjlv2: UUID="3d82be56-2907-49ac-9ba9-c898d1f43d23" TYPE="ext4"
/dev/mapper/rjvg-rjlv3: UUID="8ebcc4d1-3314-4312-9667-acd29fb68017" TYPE="ext4"
/dev/mapper/rjvg-rjlv4: UUID="a9a18c43-ae97-4ec5-94fa-b868ef0a74e5" TYPE="ext4"
/dev/mapper/webvg-weblv: UUID="02e92193-8216-49ae-83f1-f5d830ce2bfa" TYPE="ext4"
/dev/sdi1: UUID="6c3b1F-acFp-97iG-iJQI-4Oay-Zj6e-ZBmz00" TYPE="LVM2_member"
/dev/mapper/ashokvg-ashoklv: UUID="3feb20da-bfb0-44e1-821a-4e6f20939df7" TYPE="ext4"
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# mkdir /ashok
[root@c111xyz ~]#
[root@c111xyz ~]# mount -t ext4 /dev/ashokvg/ashoklv /ashok
[root@c111xyz ~]# df -h /ashok
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/ashokvg-ashoklv  969M  2.5M  900M   1% /ashok
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# cp /etc/fstab /etc/fstab.ashokvg
[root@c111xyz ~]# vi /etc/fstab
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# cat /etc/fstab

#
# /etc/fstab
# Created by anaconda on Thu May 22 20:19:16 2025
#
# Accessible filesystems, by reference, are maintained under '/dev/disk'
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
/dev/mapper/rhel-root   /                       xfs     defaults        0 0
UUID=366b7a0b-c2ee-4474-816b-9418785b2cb2 /boot                   xfs     defaults        0 0
/dev/mapper/rhel-swap   swap                    swap    defaults        0 0
#/dev/sdd1      /data1  ext4    defaults        0       0
#/dev/sdd2      /data2  ext4    defaults        0       0
#/dev/sdd3      /data3  ext4    defaults        0       0
#/dev/sdd5      /data5  ext4    defaults        0       0
#/dev/sdd6      /data6  ext4    defaults        0       0
#/dev/sdd7      /data7  ext4    defaults        0       0
#/dev/sdd8      /data8  ext4    defaults        0       0
#/dev/sde1      /ashok1 ext4    defaults        0       0
#/dev/sde2      /ashok2 ext4    defaults        0       0
#/dev/sde3      /ashok3 ext4    defaults        0       0
#/dev/oraclevg/oradata1lv       /oradata1       ext4    defaults        0       0
#/dev/oraclevg/oradata2lv       /oradata2       ext4    defaults        0       0
#nfsserver:/sharehome   /sharehome      nfs     defaults        0       0
/dev/rjvg/rjlv1 /rj1    ext4    defaults        0       0
/dev/rjvg/rjlv2 /rj2    ext4    defaults        0       0
/dev/rjvg/rjlv3 /rj3    ext4    defaults        0       0
/dev/rjvg/rjlv4 /rj4    ext4    defaults        0       0
/dev/ashokvg/ashoklv    /ashok  ext4    defaults        0       0
[root@c111xyz ~]#
[root@c111xyz ~]# df-h
-bash: df-h: command not found
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# umount /ashok
[root@c111xyz ~]# df -h
Filesystem              Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root    17G  1.1G   16G   7% /
devtmpfs                901M     0  901M   0% /dev
tmpfs                   912M     0  912M   0% /dev/shm
tmpfs                   912M  8.9M  903M   1% /run
tmpfs                   912M     0  912M   0% /sys/fs/cgroup
/dev/sda1              1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4  961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1  1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2  961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3  961M   31M  882M   4% /rj3
tmpfs                   183M     0  183M   0% /run/user/0
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# mount /ashok
[root@c111xyz ~]#
[root@c111xyz ~]# df -h /ashok
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/ashokvg-ashoklv  969M  2.5M  900M   1% /ashok
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# vgs
  VG       #PV #LV #SN Attr   VSize    VFree
  ashokvg    1   1   0 wz--n- 1020.00m 20.00m
  oraclevg   1   2   0 wz--n-   <5.00g  3.04g
  rhel       1   2   0 wz--n-  <19.00g     0
  rjvg       2   4   0 wz--n-    3.99g  8.00m
  sharevg    1   1   0 wz--n- 1020.00m 20.00m
  webvg      1   1   0 wz--n- 1020.00m 20.00m
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# df -h
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root         17G  1.1G   16G   7% /
devtmpfs                     901M     0  901M   0% /dev
tmpfs                        912M     0  912M   0% /dev/shm
tmpfs                        912M  8.9M  903M   1% /run
tmpfs                        912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4       961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1       1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2       961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3       961M   31M  882M   4% /rj3
tmpfs                        183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv  969M  2.5M  900M   1% /ashok
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# cp /var/log/messages /ashok
[root@c111xyz ~]# cp -r /var/* /ashok/
[root@c111xyz ~]# df -h
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root         17G  1.1G   16G   7% /
devtmpfs                     901M     0  901M   0% /dev
tmpfs                        912M     0  912M   0% /dev/shm
tmpfs                        912M  8.9M  903M   1% /run
tmpfs                        912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4       961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1       1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2       961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3       961M   31M  882M   4% /rj3
tmpfs                        183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv  969M  151M  753M  17% /ashok
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# vgs
  VG       #PV #LV #SN Attr   VSize    VFree
  ashokvg    1   1   0 wz--n- 1020.00m 20.00m
  oraclevg   1   2   0 wz--n-   <5.00g  3.04g
  rhel       1   2   0 wz--n-  <19.00g     0
  rjvg       2   4   0 wz--n-    3.99g  8.00m
  sharevg    1   1   0 wz--n- 1020.00m 20.00m
  webvg      1   1   0 wz--n- 1020.00m 20.00m
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# echo "- - -" > /sys/class/scsi_host/host0/scan
[root@c111xyz ~]# echo "- - -" > /sys/class/scsi_host/host1/scan
[root@c111xyz ~]# echo "- - -" > /sys/class/scsi_host/host2/scan
[root@c111xyz ~]#
[root@c111xyz ~]# parted -l |more
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sda: 21.5GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  1075MB  1074MB  primary  xfs          boot
 2      1075MB  21.5GB  20.4GB  primary               lvm


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdb: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End     Size    File system  Name     Flags
 1      1049kB  1073MB  1072MB               logical


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdc: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End     Size    File system  Name     Flags
 1      1049kB  1073MB  1072MB               logical


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdd: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size   Type      File system  Flags
 1      1049kB  500MB   499MB  primary   ext4
 2      501MB   1000MB  499MB  primary   ext4
 3      1001MB  1200MB  198MB  primary   ext4
 4      1201MB  2146MB  946MB  extended               lba
 5      1201MB  1400MB  199MB  logical   ext4
 6      1401MB  1600MB  199MB  logical   ext4
 7      1601MB  1800MB  199MB  logical   ext4
 8      1801MB  2146MB  345MB  logical   ext4

--More--Error: /dev/sdj: unrecognised disk label
Warning: Unable to open /dev/sr0 read-write (Read-only file system).  /dev/sr0
has been opened read-only.

Model: VMware, VMware Virtual S (scsi)
Disk /dev/sde: 5369MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  5368MB  5367MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdf: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size   Type     File system  Flags
 1      1049kB  300MB   299MB  primary  ext4
 2      301MB   600MB   299MB  primary  ext4
 3      601MB   1073MB  472MB  primary  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/ashokvg-ashoklv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/webvg-weblv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv3: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv2: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv1: 1132MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1132MB  1132MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rjvg-rjlv4: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/oraclevg-oradata1lv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/oraclevg-oradata2lv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/sharevg-sharelv: 1049MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  1049MB  1049MB  ext4


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rhel-swap: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system     Flags
 1      0.00B  2147MB  2147MB  linux-swap(v1)


Model: Linux device-mapper (linear) (dm)
Disk /dev/mapper/rhel-root: 18.2GB
Sector size (logical/physical): 512B/512B
Partition Table: loop
Disk Flags:

Number  Start  End     Size    File system  Flags
 1      0.00B  18.2GB  18.2GB  xfs


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdg: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  2146MB  2145MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdh: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  2146MB  2145MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdi: 1074MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  1073MB  1072MB  primary


Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdj: 1611MB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags:

Model: NECVMWar VMware SATA CD01 (scsi)
Disk /dev/sr0: 4374MB
Sector size (logical/physical): 2048B/2048B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 2      1442MB  1479MB  36.8MB  primary


[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# parted /dev/sdj
GNU Parted 3.1
Using /dev/sdj
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) print
Error: /dev/sdj: unrecognised disk label
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdj: 1611MB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags:
(parted)
(parted) mklabel msdos
(parted) print
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdj: 1611MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start  End  Size  Type  File system  Flags

(parted) mkpart
Partition type?  primary/extended? primary
File system type?  [ext2]?
Start? 1
End? -1
(parted) print
Model: VMware, VMware Virtual S (scsi)
Disk /dev/sdj: 1611MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  1610MB  1609MB  primary

(parted)
(parted) quit
Information: You may need to update /etc/fstab.

[root@c111xyz ~]#
[root@c111xyz ~]# pvs
  PV         VG       Fmt  Attr PSize    PFree
  /dev/sda2  rhel     lvm2 a--   <19.00g     0
  /dev/sdb1  sharevg  lvm2 a--  1020.00m 20.00m
  /dev/sdc1  webvg    lvm2 a--  1020.00m 20.00m
  /dev/sde1  oraclevg lvm2 a--    <5.00g  3.04g
  /dev/sdg1  rjvg     lvm2 a--    <2.00g     0
  /dev/sdh1  rjvg     lvm2 a--    <2.00g  8.00m
  /dev/sdi1  ashokvg  lvm2 a--  1020.00m 20.00m
[root@c111xyz ~]# pvcreate /dev/sdj1
  Physical volume "/dev/sdj1" successfully created.
[root@c111xyz ~]# pvs
  PV         VG       Fmt  Attr PSize    PFree
  /dev/sda2  rhel     lvm2 a--   <19.00g     0
  /dev/sdb1  sharevg  lvm2 a--  1020.00m 20.00m
  /dev/sdc1  webvg    lvm2 a--  1020.00m 20.00m
  /dev/sde1  oraclevg lvm2 a--    <5.00g  3.04g
  /dev/sdg1  rjvg     lvm2 a--    <2.00g     0
  /dev/sdh1  rjvg     lvm2 a--    <2.00g  8.00m
  /dev/sdi1  ashokvg  lvm2 a--  1020.00m 20.00m
  /dev/sdj1           lvm2 ---    <1.50g <1.50g
[root@c111xyz ~]#
[root@c111xyz ~]# vgextend ashokvg /dev/sdj1
  Volume group "ashokvg" successfully extended
[root@c111xyz ~]# vgs
  VG       #PV #LV #SN Attr   VSize    VFree
  ashokvg    2   1   0 wz--n-    2.49g <1.52g
  oraclevg   1   2   0 wz--n-   <5.00g  3.04g
  rhel       1   2   0 wz--n-  <19.00g     0
  rjvg       2   4   0 wz--n-    3.99g  8.00m
  sharevg    1   1   0 wz--n- 1020.00m 20.00m
  webvg      1   1   0 wz--n- 1020.00m 20.00m
[root@c111xyz ~]# lvs
  LV         VG       Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  ashoklv    ashokvg  -wi-ao---- 1000.00m
  oradata1lv oraclevg -wi-a----- 1000.00m
  oradata2lv oraclevg -wi-a----- 1000.00m
  root       rhel     -wi-ao----  <17.00g
  swap       rhel     -wi-ao----    2.00g
  rjlv1      rjvg     -wi-ao----    1.05g
  rjlv2      rjvg     -wi-ao---- 1000.00m
  rjlv3      rjvg     -wi-ao---- 1000.00m
  rjlv4      rjvg     -wi-ao---- 1000.00m
  sharelv    sharevg  -wi-a----- 1000.00m
  weblv      webvg    -wi-a----- 1000.00m
[root@c111xyz ~]# lvextend -L +1000M /dev/ashokvg/ashoklv
  Size of logical volume ashokvg/ashoklv changed from 1000.00 MiB (250 extents) to 1.95 GiB (500 extents).
  Logical volume ashokvg/ashoklv successfully resized.
[root@c111xyz ~]# lvs
  LV         VG       Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  ashoklv    ashokvg  -wi-ao----    1.95g
  oradata1lv oraclevg -wi-a----- 1000.00m
  oradata2lv oraclevg -wi-a----- 1000.00m
  root       rhel     -wi-ao----  <17.00g
  swap       rhel     -wi-ao----    2.00g
  rjlv1      rjvg     -wi-ao----    1.05g
  rjlv2      rjvg     -wi-ao---- 1000.00m
  rjlv3      rjvg     -wi-ao---- 1000.00m
  rjlv4      rjvg     -wi-ao---- 1000.00m
  sharelv    sharevg  -wi-a----- 1000.00m
  weblv      webvg    -wi-a----- 1000.00m
[root@c111xyz ~]# df -h /asho
df: ‘/asho’: No such file or directory
[root@c111xyz ~]# df -h /ashok
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/ashokvg-ashoklv  969M  151M  753M  17% /ashok
[root@c111xyz ~]#
[root@c111xyz ~]# resize2fs /dev/ashokvg/ashoklv
resize2fs 1.42.9 (28-Dec-2013)
Filesystem at /dev/ashokvg/ashoklv is mounted on /ashok; on-line resizing required
old_desc_blocks = 1, new_desc_blocks = 1
The filesystem on /dev/ashokvg/ashoklv is now 512000 blocks long.

[root@c111xyz ~]#
[root@c111xyz ~]# df -h /ashok
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/ashokvg-ashoklv  2.0G  151M  1.7G   9% /ashok
[root@c111xyz ~]#
[root@c111xyz ~]#
[root@c111xyz ~]# cd /ashok
[root@c111xyz ashok]# ls
adm  cache  crash  db  empty  ftp  games  gopher  kerberos  lib  local  lock  log  lost+found  mail  messages  nis  opt  preserve  run  spool  tmp  yp
[root@c111xyz ashok]#
[root@c111xyz ashok]#
[root@c111xyz ashok]# mkdir ashok
[root@c111xyz ashok]# rmdir ashok
[root@c111xyz ashok]#
[root@c111xyz ashok]# ls
adm  cache  crash  db  empty  ftp  games  gopher  kerberos  lib  local  lock  log  lost+found  mail  messages  nis  opt  preserve  run  spool  tmp  yp
[root@c111xyz ashok]#
[root@c111xyz ashok]#
[root@c111xyz ashok]# cd /
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# df -h
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root         17G  1.1G   16G   7% /
devtmpfs                     901M     0  901M   0% /dev
tmpfs                        912M     0  912M   0% /dev/shm
tmpfs                        912M  8.9M  903M   1% /run
tmpfs                        912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4       961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1       1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2       961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3       961M   31M  882M   4% /rj3
tmpfs                        183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv  2.0G  151M  1.7G   9% /ashok
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# df -h /ashok
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/ashokvg-ashoklv  2.0G  151M  1.7G   9% /ashok
[root@c111xyz /]#
[root@c111xyz /]# ls /ashok
adm  cache  crash  db  empty  ftp  games  gopher  kerberos  lib  local  lock  log  lost+found  mail  messages  nis  opt  preserve  run  spool  tmp  yp
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# df -h
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root         17G  1.1G   16G   7% /
devtmpfs                     901M     0  901M   0% /dev
tmpfs                        912M     0  912M   0% /dev/shm
tmpfs                        912M  8.9M  903M   1% /run
tmpfs                        912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4       961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1       1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2       961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3       961M   31M  882M   4% /rj3
tmpfs                        183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv  2.0G  151M  1.7G   9% /ashok
[root@c111xyz /]#
[root@c111xyz /]# mkdir /ashokbackup
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# cp /ashok/* /ashokbackup/
cp: omitting directory ‘/ashok/adm’
cp: omitting directory ‘/ashok/cache’
cp: omitting directory ‘/ashok/crash’
cp: omitting directory ‘/ashok/db’
cp: omitting directory ‘/ashok/empty’
cp: omitting directory ‘/ashok/ftp’
cp: omitting directory ‘/ashok/games’
cp: omitting directory ‘/ashok/gopher’
cp: omitting directory ‘/ashok/kerberos’
cp: omitting directory ‘/ashok/lib’
cp: omitting directory ‘/ashok/local’
cp: omitting directory ‘/ashok/lock’
cp: omitting directory ‘/ashok/log’
cp: omitting directory ‘/ashok/lost+found’
cp: omitting directory ‘/ashok/mail’
cp: omitting directory ‘/ashok/nis’
cp: omitting directory ‘/ashok/opt’
cp: omitting directory ‘/ashok/preserve’
cp: omitting directory ‘/ashok/run’
cp: omitting directory ‘/ashok/spool’
cp: omitting directory ‘/ashok/tmp’
cp: omitting directory ‘/ashok/yp’
[root@c111xyz /]# cp -rp /ashok/* /ashokbackup/
cp: overwrite ‘/ashokbackup/messages’? yes
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# df -h
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root         17G  1.3G   16G   8% /
devtmpfs                     901M     0  901M   0% /dev
tmpfs                        912M     0  912M   0% /dev/shm
tmpfs                        912M  8.9M  903M   1% /run
tmpfs                        912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4       961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1       1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2       961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3       961M   31M  882M   4% /rj3
tmpfs                        183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv  2.0G  151M  1.7G   9% /ashok
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# ls /ashok
adm  cache  crash  db  empty  ftp  games  gopher  kerberos  lib  local  lock  log  lost+found  mail  messages  nis  opt  preserve  run  spool  tmp  yp
[root@c111xyz /]# ls /ashokbackup/
adm  cache  crash  db  empty  ftp  games  gopher  kerberos  lib  local  lock  log  lost+found  mail  messages  nis  opt  preserve  run  spool  tmp  yp
[root@c111xyz /]#
[root@c111xyz /]# umount /ashok
[root@c111xyz /]#
[root@c111xyz /]# df -h
Filesystem              Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root    17G  1.2G   16G   7% /
devtmpfs                901M     0  901M   0% /dev
tmpfs                   912M     0  912M   0% /dev/shm
tmpfs                   912M  8.9M  903M   1% /run
tmpfs                   912M     0  912M   0% /sys/fs/cgroup
/dev/sda1              1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4  961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1  1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2  961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3  961M   31M  882M   4% /rj3
tmpfs                   183M     0  183M   0% /run/user/0
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# resize2fs /dev/ashokvg/ashoklv 1500MB
resize2fs 1.42.9 (28-Dec-2013)
Please run 'e2fsck -f /dev/ashokvg/ashoklv' first.

[root@c111xyz /]# e2fsck -f /dev/ashokvg/ashoklv
e2fsck 1.42.9 (28-Dec-2013)
Pass 1: Checking inodes, blocks, and sizes
Pass 2: Checking directory structure
Pass 3: Checking directory connectivity
Pass 4: Checking reference counts
Pass 5: Checking group summary information
/dev/ashokvg/ashoklv: 4171/128000 files (0.2% non-contiguous), 50667/512000 blocks
[root@c111xyz /]#
[root@c111xyz /]# resize2fs /dev/ashokvg/ashoklv 1500MB
resize2fs 1.42.9 (28-Dec-2013)
resize2fs: Invalid new size: 1500MB

[root@c111xyz /]# resize2fs /dev/ashokvg/ashoklv 1500M
resize2fs 1.42.9 (28-Dec-2013)
Resizing the filesystem on /dev/ashokvg/ashoklv to 384000 (4k) blocks.
The filesystem on /dev/ashokvg/ashoklv is now 384000 blocks long.

[root@c111xyz /]#
[root@c111xyz /]# lvs
  LV         VG       Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  ashoklv    ashokvg  -wi-a-----    1.95g
  oradata1lv oraclevg -wi-a----- 1000.00m
  oradata2lv oraclevg -wi-a----- 1000.00m
  root       rhel     -wi-ao----  <17.00g
  swap       rhel     -wi-ao----    2.00g
  rjlv1      rjvg     -wi-ao----    1.05g
  rjlv2      rjvg     -wi-ao---- 1000.00m
  rjlv3      rjvg     -wi-ao---- 1000.00m
  rjlv4      rjvg     -wi-ao---- 1000.00m
  sharelv    sharevg  -wi-a----- 1000.00m
  weblv      webvg    -wi-a----- 1000.00m
[root@c111xyz /]#
[root@c111xyz /]# lvreduce -L -500M /dev/ashokvg/ashoklv
  WARNING: Reducing active logical volume to 1.46 GiB.
  THIS MAY DESTROY YOUR DATA (filesystem etc.)
Do you really want to reduce ashokvg/ashoklv? [y/n]: yes
  Size of logical volume ashokvg/ashoklv changed from 1.95 GiB (500 extents) to 1.46 GiB (375 extents).
  Logical volume ashokvg/ashoklv successfully resized.
[root@c111xyz /]# lvs
  LV         VG       Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  ashoklv    ashokvg  -wi-a-----    1.46g
  oradata1lv oraclevg -wi-a----- 1000.00m
  oradata2lv oraclevg -wi-a----- 1000.00m
  root       rhel     -wi-ao----  <17.00g
  swap       rhel     -wi-ao----    2.00g
  rjlv1      rjvg     -wi-ao----    1.05g
  rjlv2      rjvg     -wi-ao---- 1000.00m
  rjlv3      rjvg     -wi-ao---- 1000.00m
  rjlv4      rjvg     -wi-ao---- 1000.00m
  sharelv    sharevg  -wi-a----- 1000.00m
  weblv      webvg    -wi-a----- 1000.00m
[root@c111xyz /]# vgs
  VG       #PV #LV #SN Attr   VSize    VFree
  ashokvg    2   1   0 wz--n-    2.49g <1.03g
  oraclevg   1   2   0 wz--n-   <5.00g  3.04g
  rhel       1   2   0 wz--n-  <19.00g     0
  rjvg       2   4   0 wz--n-    3.99g  8.00m
  sharevg    1   1   0 wz--n- 1020.00m 20.00m
  webvg      1   1   0 wz--n- 1020.00m 20.00m
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# mount /ashok
[root@c111xyz /]#
[root@c111xyz /]# df -h /ashok
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/ashokvg-ashoklv  1.5G  151M  1.2G  11% /ashok
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# resize2fs /dev/ashokvg/ashoklv
resize2fs 1.42.9 (28-Dec-2013)
The filesystem is already 384000 blocks long.  Nothing to do!

[root@c111xyz /]#
[root@c111xyz /]# df -h
Filesystem                   Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root         17G  1.2G   16G   7% /
devtmpfs                     901M     0  901M   0% /dev
tmpfs                        912M     0  912M   0% /dev/shm
tmpfs                        912M  8.9M  903M   1% /run
tmpfs                        912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4       961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1       1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2       961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3       961M   31M  882M   4% /rj3
tmpfs                        183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv  1.5G  151M  1.2G  11% /ashok
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]# df -Th
Filesystem                  Type      Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root       xfs        17G  1.2G   16G   7% /
devtmpfs                    devtmpfs  901M     0  901M   0% /dev
tmpfs                       tmpfs     912M     0  912M   0% /dev/shm
tmpfs                       tmpfs     912M  8.9M  903M   1% /run
tmpfs                       tmpfs     912M     0  912M   0% /sys/fs/cgroup
/dev/sda1                   xfs      1014M  143M  872M  15% /boot
/dev/mapper/rjvg-rjlv4      ext4      961M   31M  882M   4% /rj4
/dev/mapper/rjvg-rjlv1      ext4      1.1G   13M  975M   2% /rj1
/dev/mapper/rjvg-rjlv2      ext4      961M   31M  882M   4% /rj2
/dev/mapper/rjvg-rjlv3      ext4      961M   31M  882M   4% /rj3
tmpfs                       tmpfs     183M     0  183M   0% /run/user/0
/dev/mapper/ashokvg-ashoklv ext4      1.5G  151M  1.2G  11% /ashok
[root@c111xyz /]#
[root@c111xyz /]#
[root@c111xyz /]#
